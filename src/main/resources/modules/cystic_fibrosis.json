{
  "name": "Cystic Fibrosis",
  "remarks": [
    "A blank module"
  ],
  "states": {
    "Initial": {
      "type": "Initial",
      "direct_transition": "Potential_Onset"
    },
    "Terminal": {
      "type": "Terminal"
    },
    "Potential_Onset": {
      "type": "Delay",
      "exact": {
        "quantity": 1,
        "unit": "weeks"
      },
      "complex_transition": [
        {
          "condition": {
            "condition_type": "Race",
            "race": "White"
          },
          "distributions": [
            {
              "transition": "Cystic_Fibrosis",
              "distribution": 0.0003333333
            }
          ]
        },
        {
          "condition": {
            "condition_type": "Race",
            "race": "Black"
          },
          "distributions": [
            {
              "transition": "Cystic_Fibrosis",
              "distribution": 0.000066225
            }
          ]
        },
        {
          "distributions": [
            {
              "transition": "Cystic_Fibrosis",
              "distribution": 0.000028571
            }
          ],
          "condition": {
            "condition_type": "Race",
            "race": "Asian"
          }
        },
        {
          "distributions": [],
          "transition": "Terminal"
        }
      ]
    },
    "Cystic_Fibrosis": {
      "type": "ConditionOnset",
      "target_encounter": "Fibrosis_Screening",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 190905008,
          "display": "Cystic Fibrosis"
        }
      ],
      "complex_transition": [
        {
          "condition": {
            "condition_type": "Gender",
            "gender": "M"
          },
          "distributions": [
            {
              "transition": "Male_Infertility",
              "distribution": 0.98
            }
          ]
        },
        {
          "condition": {
            "condition_type": "Gender",
            "gender": "F"
          },
          "distributions": [
            {
              "transition": "Female_Infertility",
              "distribution": 0.5
            }
          ]
        },
        {
          "distributions": [],
          "transition": "chronic_cough"
        }
      ]
    },
    "Age <1": {
      "type": "Delay",
      "exact": {
        "quantity": 1,
        "unit": "months"
      },
      "distributed_transition": [
        {
          "transition": "symptoms_dont_improve",
          "distribution": 0.82
        },
        {
          "transition": "Meconium Ileus",
          "distribution": 0.18
        }
      ]
    },
    "Age 1": {
      "type": "Delay",
      "exact": {
        "quantity": 1,
        "unit": "years"
      },
      "direct_transition": "symptoms_dont_improve"
    },
    "Ages_2_15": {
      "type": "Delay",
      "range": {
        "low": 2,
        "high": 15,
        "unit": "years"
      },
      "direct_transition": "symptoms_dont_improve"
    },
    "16_plus": {
      "type": "Delay",
      "range": {
        "low": 16,
        "high": 50,
        "unit": "years"
      },
      "direct_transition": "symptoms_dont_improve"
    },
    "Fibrosis_Screening": {
      "type": "Encounter",
      "encounter_class": "inpatient",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 67799006,
          "display": "Diagnosis of cystic fibrosis using sweat test and gene test"
        }
      ],
      "direct_transition": "Sweat_Test"
    },
    "Sweat_Test": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 86964003,
          "display": "Sweat Test"
        }
      ],
      "duration": {
        "low": 1,
        "high": 2,
        "unit": "hours"
      },
      "direct_transition": "Gene_mutation_test",
      "remarks": ""
    },
    "Gene_mutation_test": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 444260001,
          "display": "SNOMED Code"
        }
      ],
      "duration": {
        "low": 0.5,
        "high": 1,
        "unit": "hours"
      },
      "direct_transition": "End_Screening"
    },
    "End_Screening": {
      "type": "EncounterEnd",
      "distributed_transition": [
        {
          "transition": "Prescribe_Mucus_Thinner",
          "distribution": 0.95
        },
        {
          "transition": "Set_Gene_Mutation",
          "distribution": 0.05
        }
      ]
    },
    "Set_Gene_Mutation": {
      "type": "SetAttribute",
      "attribute": "G155D Mutation",
      "direct_transition": "Prescribe_Ivacaftor",
      "value": true
    },
    "chronic_cough": {
      "type": "Symptom",
      "symptom": "Chronic Cough",
      "cause": "",
      "direct_transition": "Salty_Skin",
      "range": {
        "low": 50,
        "high": 100
      }
    },
    "Meconium Ileus": {
      "type": "ConditionOnset",
      "assign_to_attribute": "",
      "target_encounter": "Fibrosis_Screening",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 206523001,
          "display": "SNOMED Code"
        }
      ],
      "direct_transition": "Set_Meconium_Ileus"
    },
    "Set_Meconium_Ileus": {
      "type": "SetAttribute",
      "attribute": "meconium_ileus",
      "direct_transition": "Neonatal_screening",
      "value": true
    },
    "Enema": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 385186005,
          "display": "SNOMED Code"
        }
      ],
      "duration": {
        "low": 1,
        "high": 2,
        "unit": "hours"
      },
      "direct_transition": "Meconium_Ileus_Resolved"
    },
    "Male_Infertility": {
      "type": "ConditionOnset",
      "assign_to_attribute": "",
      "target_encounter": "Fibrosis_Screening",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "1234",
          "display": "SNOMED Code"
        }
      ],
      "direct_transition": "chronic_cough"
    },
    "Female_Infertility": {
      "type": "ConditionOnset",
      "assign_to_attribute": "",
      "target_encounter": "Fibrosis_Screening",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 707577004,
          "display": "Female Infertility"
        }
      ],
      "direct_transition": "chronic_cough"
    },
    "Neonatal_screening": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 60151004,
          "display": "SNOMED Code"
        }
      ],
      "duration": {
        "low": 12,
        "high": 24,
        "unit": "hours"
      },
      "conditional_transition": [
        {
          "transition": "Enema",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "Meconium_Ileus",
            "operator": "==",
            "value": true
          }
        },
        {
          "transition": "symptoms_dont_improve"
        }
      ]
    },
    "symptoms_dont_improve": {
      "type": "Delay",
      "direct_transition": "Fibrosis_Screening",
      "range": {
        "low": 2,
        "high": 4,
        "unit": "weeks"
      }
    },
    "Meconium_Ileus_Resolved": {
      "type": "ConditionEnd",
      "direct_transition": "Fibrosis_Screening",
      "condition_onset": "Meconium_Ileus"
    },
    "CF_CarePlan": {
      "type": "CarePlanStart",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 710971000,
          "display": "Airway Clearance"
        },
        {
          "system": "SNOMED-CT",
          "code": 56251003,
          "display": "Nebulizer Therapy"
        },
        {
          "system": "SNOMED-CT",
          "code": 392020005,
          "display": "PICC care"
        }
      ],
      "direct_transition": "Life_With_Cystic_Fibrosis",
      "reason": "Cystic Fibrosis"
    },
    "Pancreatin": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": 210856,
          "display": "Pancreatin 4X 600 MG Oral Tablet"
        }
      ],
      "direct_transition": "CF_CarePlan",
      "reason": "Cystic_Fibrosis"
    },
    "Life_With_Cystic_Fibrosis": {
      "type": "Delay",
      "exact": {
        "quantity": 13,
        "unit": "weeks"
      },
      "complex_transition": [
        {
          "condition": {
            "condition_type": "And",
            "conditions": [
              {
                "condition_type": "Attribute",
                "attribute": "diabetes",
                "operator": "==",
                "value": true
              },
              {
                "condition_type": "Age",
                "operator": "<=",
                "quantity": 30,
                "unit": "years",
                "value": 0
              }
            ]
          },
          "distributions": [
            {
              "transition": "Year Counter",
              "distribution": 0.987
            },
            {
              "transition": "death",
              "distribution": 0.013
            }
          ]
        },
        {
          "condition": {
            "condition_type": "And",
            "conditions": [
              {
                "condition_type": "Age",
                "operator": ">",
                "quantity": 30,
                "unit": "years"
              },
              {
                "condition_type": "Attribute",
                "attribute": "diabetes",
                "operator": "==",
                "value": true
              }
            ]
          },
          "distributions": [
            {
              "transition": "death",
              "distribution": 0.035
            },
            {
              "transition": "Year Counter",
              "distribution": 0.965
            }
          ]
        },
        {
          "distributions": [
            {
              "transition": "BO_Syndrome",
              "distribution": 0.0205
            },
            {
              "transition": "Year Counter",
              "distribution": 0.959
            },
            {
              "transition": "Infection",
              "distribution": 0.0205
            }
          ],
          "condition": {
            "condition_type": "Attribute",
            "attribute": "lung_transplanted",
            "operator": "==",
            "value": 1
          }
        },
        {
          "condition": {
            "condition_type": "Age",
            "operator": ">",
            "quantity": 20,
            "unit": "years"
          },
          "distributions": [
            {
              "transition": "death",
              "distribution": 0.021
            },
            {
              "transition": "Year Counter",
              "distribution": 0.979
            }
          ]
        },
        {
          "condition": {
            "condition_type": "Age",
            "operator": "<=",
            "quantity": 20,
            "unit": "years",
            "value": 0
          },
          "distributions": [
            {
              "transition": "Year Counter",
              "distribution": 0.998
            },
            {
              "transition": "death",
              "distribution": 0.002
            }
          ]
        },
        {
          "distributions": [
            {
              "transition": "Respiratory_Disease",
              "distribution": 0.049
            },
            {
              "transition": "Year Counter",
              "distribution": 0.951
            }
          ],
          "condition": {
            "condition_type": "Attribute",
            "attribute": "lung_transplanted",
            "operator": "==",
            "value": 2
          }
        }
      ]
    },
    "Getting_Diagnosed": {
      "type": "Simple",
      "distributed_transition": [
        {
          "transition": "Age <1",
          "distribution": 0.657
        },
        {
          "transition": "Age 1",
          "distribution": 0.066
        },
        {
          "transition": "Ages_2_15",
          "distribution": 0.208
        },
        {
          "transition": "16_plus",
          "distribution": 0.068
        }
      ]
    },
    "Prescribe_Ivacaftor": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": 1655927,
          "display": "Ivacaftor"
        }
      ],
      "direct_transition": "Prescribe_Mucus_Thinner",
      "reason": "Cystic Fibrosis"
    },
    "Prescribe_Mucus_Thinner": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": 74704,
          "display": "Mucus Thinner"
        }
      ],
      "reason": "Cystic Fibrosis",
      "distributed_transition": [
        {
          "transition": "Pancreatin",
          "distribution": 0.9
        },
        {
          "transition": "CF_CarePlan",
          "distribution": 0.1
        }
      ]
    },
    "Salty_Skin": {
      "type": "Symptom",
      "symptom": "Salty_Skin",
      "cause": "",
      "exact": {
        "quantity": 1
      },
      "direct_transition": "Getting_Diagnosed"
    },
    "Year Counter": {
      "type": "Counter",
      "attribute": "year",
      "action": "increment",
      "direct_transition": "Tracker"
    },
    "Tracker": {
      "type": "Simple",
      "conditional_transition": [
        {
          "condition": {
            "condition_type": "Attribute",
            "attribute": "year",
            "operator": ">",
            "value": 8
          },
          "transition": "setYear"
        },
        {
          "condition": {
            "condition_type": "Attribute",
            "attribute": "year",
            "operator": "==",
            "value": 4
          }
        },
        {
          "transition": "Quarterly_Checkup"
        }
      ]
    },
    "setYear": {
      "type": "SetAttribute",
      "attribute": "year",
      "value": 0,
      "complex_transition": [
        {
          "condition": {
            "condition_type": "And",
            "conditions": [
              {
                "condition_type": "Age",
                "operator": ">",
                "quantity": 0,
                "unit": "years"
              },
              {
                "condition_type": "Age",
                "operator": "<=",
                "quantity": 8,
                "unit": "years",
                "value": 0
              }
            ]
          },
          "distributions": [
            {
              "transition": "Develop_Diabetes",
              "distribution": 0.005
            },
            {
              "transition": "Quarterly_Checkup",
              "distribution": 0.995
            }
          ]
        },
        {
          "condition": {
            "condition_type": "And",
            "conditions": [
              {
                "condition_type": "Age",
                "operator": ">",
                "quantity": 8,
                "unit": "years"
              },
              {
                "condition_type": "Age",
                "operator": "<=",
                "quantity": 18,
                "unit": "years",
                "value": 0
              }
            ]
          },
          "distributions": [
            {
              "transition": "Develop_Diabetes",
              "distribution": 0.052
            },
            {
              "transition": "Quarterly_Checkup",
              "distribution": 0.948
            }
          ]
        },
        {
          "condition": {
            "condition_type": "Age",
            "operator": ">",
            "quantity": 18,
            "unit": "years"
          },
          "distributions": [
            {
              "transition": "Develop_Diabetes",
              "distribution": 0.067
            },
            {
              "transition": "Quarterly_Checkup",
              "distribution": 0.933
            }
          ]
        }
      ]
    },
    "Quarterly_Checkup": {
      "type": "Encounter",
      "encounter_class": "ambulatory",
      "codes": [],
      "wellness": true,
      "conditional_transition": [
        {
          "transition": "Chest_XRay",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "year",
            "operator": "==",
            "value": 8
          }
        },
        {
          "transition": "GlucoseTest",
          "condition": {
            "condition_type": "And",
            "conditions": [
              {
                "condition_type": "And",
                "conditions": [
                  {
                    "condition_type": "Age",
                    "operator": ">=",
                    "quantity": 10,
                    "unit": "years",
                    "value": 0
                  },
                  {
                    "condition_type": "Attribute",
                    "attribute": "year",
                    "operator": "==",
                    "value": 4
                  }
                ]
              },
              {
                "condition_type": "Attribute",
                "attribute": "testDiabetes",
                "operator": "!=",
                "value": 1
              }
            ]
          }
        },
        {
          "transition": "Oropharyngeal_Culture"
        }
      ]
    },
    "Chest_XRay": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 399208008,
          "display": "Chest X-ray"
        }
      ],
      "duration": {
        "low": 1,
        "high": 2,
        "unit": "hours"
      },
      "conditional_transition": [
        {
          "transition": "GlucoseTest",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "testDiabetes",
            "operator": "!=",
            "value": 1
          }
        }
      ]
    },
    "Oropharyngeal_Culture": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 104173009,
          "display": "Sputum Culture"
        }
      ],
      "duration": {
        "low": 5,
        "high": 15,
        "unit": "minutes"
      },
      "direct_transition": "Pulmonary_Function_Test"
    },
    "Develop_Diabetes": {
      "type": "ConditionOnset",
      "assign_to_attribute": "",
      "target_encounter": "Quarterly_Checkup",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 427089005,
          "display": "Diabetes from Cystic Fibrosis"
        }
      ],
      "direct_transition": "diatbetesState"
    },
    "GlucoseTest": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 113076002,
          "display": "Oral Glucose Tolerance Test"
        }
      ],
      "duration": {
        "low": 120,
        "high": 150,
        "unit": "minutes"
      },
      "conditional_transition": [
        {
          "transition": "DiabetesCarePlan",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "diabetes",
            "operator": "==",
            "value": true
          }
        },
        {
          "transition": "Oropharyngeal_Culture"
        }
      ]
    },
    "diatbetesState": {
      "type": "SetAttribute",
      "attribute": "diabetes",
      "direct_transition": "Quarterly_Checkup",
      "value": true
    },
    "DiabetesCarePlan": {
      "type": "CarePlanStart",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 308113006,
          "display": "Self Monitoring of Blood Glucose"
        },
        {
          "system": "SNOMED-CT",
          "code": 225302006,
          "display": "Insulin Therapy"
        }
      ],
      "direct_transition": "testDiabetes",
      "reason": "Diabetes"
    },
    "testDiabetes": {
      "type": "SetAttribute",
      "attribute": "testDiabetes",
      "direct_transition": "EndCheckup",
      "value": 1
    },
    "EndCheckup": {
      "type": "EncounterEnd",
      "complex_transition": [
        {
          "condition": {
            "condition_type": "Attribute",
            "attribute": "lung_transplanted",
            "operator": "!=",
            "value": 1
          },
          "distributions": [
            {
              "transition": "Lung_Transplant_Considered",
              "distribution": 0.007
            },
            {
              "transition": "Life_With_Cystic_Fibrosis",
              "distribution": 0.993
            }
          ]
        },
        {
          "distributions": [
            {
              "transition": "Life_With_Cystic_Fibrosis",
              "distribution": 1
            }
          ]
        }
      ]
    },
    "Lung_Transplant_Considered": {
      "type": "Simple",
      "distributed_transition": [
        {
          "transition": "Lung_Transplant",
          "distribution": 0.69
        },
        {
          "transition": "Lung_Transplant_Denied",
          "distribution": 0.31
        }
      ]
    },
    "Lung_Transplant_Denied": {
      "type": "SetAttribute",
      "attribute": "lung_transplant",
      "direct_transition": "Life_With_Cystic_Fibrosis",
      "value": 2
    },
    "Lung_Transplant": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 232657004,
          "display": "Lung Transplant"
        }
      ],
      "duration": {
        "low": 4,
        "high": 5,
        "unit": "hours"
      },
      "direct_transition": "setTransplant",
      "reason": "Cystic_Fibrosis"
    },
    "setTransplant": {
      "type": "SetAttribute",
      "attribute": "lung_transplant",
      "direct_transition": "Life_With_Cystic_Fibrosis",
      "value": 1
    },
    "death": {
      "type": "Death",
      "exact": {
        "quantity": 1,
        "unit": "days"
      },
      "direct_transition": "Terminal"
    },
    "Respiratory_Disease": {
      "type": "ConditionOnset",
      "assign_to_attribute": "",
      "target_encounter": "Quarterly_Checkup",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 50043002,
          "display": "Respiratory Disease"
        }
      ],
      "direct_transition": "death"
    },
    "BO_Syndrome": {
      "type": "ConditionOnset",
      "assign_to_attribute": "",
      "target_encounter": "",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 290006,
          "display": "SNOMED Code"
        }
      ],
      "direct_transition": "death"
    },
    "Take_Blood_Sample": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 82078001,
          "display": "Take blood sample"
        }
      ],
      "duration": {
        "low": 10,
        "high": 30,
        "unit": "minutes"
      },
      "direct_transition": "EndCheckup"
    },
    "Pulmonary_Function_Test": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 23426006,
          "display": "Pulmonary Function Test"
        }
      ],
      "duration": {
        "low": 5,
        "high": 15,
        "unit": "minutes"
      },
      "direct_transition": "Take_Blood_Sample"
    },
    "Infection": {
      "type": "ConditionOnset",
      "assign_to_attribute": "",
      "target_encounter": "",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 40733004,
          "display": "Infection"
        }
      ],
      "direct_transition": "death"
    }
  }
}